@layer base {
  :root {
    --tw-mac-scrollbar-text: 12, 12, 12;
    --tw-mac-scrollbar-size-w: 6.4px;
    --tw-mac-scrollbar-size-h: 6.4px;
  }
  
  @media (prefers-color-scheme: dark) {
    :root {
      --tw-mac-scrollbar-text: 173, 186, 199;
    }
  }
}

@layer components {
  /* Global scrollbar styles for all elements */
  .mac-scrollbar-all * {
    &::-webkit-scrollbar {
      width: var(--tw-mac-scrollbar-size-w, 6.4px);
      height: var(--tw-mac-scrollbar-size-h, 6.4px);
      background-color: transparent;
    }
    
    &::-webkit-scrollbar,
    &::-webkit-scrollbar-thumb {
      overflow: visible;
      border-radius: 4px;
    }
    
    &::-webkit-scrollbar-thumb {
      background-color: rgba(var(--tw-mac-scrollbar-text), 0.6);
    }
  }
  
  /* Basic mac-scrollbar class */
  .mac-scrollbar {
    /* Firefox */
    scrollbar-color: var(--tw-mac-scrollbar-color, rgba(0, 0, 0, 0.1)) transparent;
    scrollbar-width: thin;
    
    &::-webkit-scrollbar {
      width: var(--tw-mac-scrollbar-size-w, 6.4px);
      height: var(--tw-mac-scrollbar-size-h, 6.4px);
      background-color: transparent;
    }
    
    &::-webkit-scrollbar,
    &::-webkit-scrollbar-thumb {
      overflow: visible;
      border-radius: 4px;
    }
    
    &::-webkit-scrollbar-thumb {
      background-color: var(--tw-mac-scrollbar-color, rgba(0, 0, 0, 0.1));
    }
  }
  
  /* Vertical scrollbar with animation */
  .mac-scrollbar-y {
    position: relative;
    overflow-y: scroll;
    /* Firefox */
    scrollbar-color: var(--tw-mac-scrollbar-color, rgba(0, 0, 0, 0.1)) transparent;
    scrollbar-width: thin;
    
    &::-webkit-scrollbar {
      width: var(--tw-mac-scrollbar-size-w, 6.4px);
      height: var(--tw-mac-scrollbar-size-h, 6.4px);
    }
    
    &::-webkit-scrollbar,
    &::-webkit-scrollbar-thumb {
      overflow: visible;
      border-radius: 4px;
    }
    
    &::-webkit-scrollbar-thumb {
      background-color: var(--tw-mac-scrollbar-color, rgba(0, 0, 0, 0.1));
    }
    
    &::after {
      content: '';
      position: absolute;
      background-color: #fff;
      height: 100%;
      top: 0;
      right: 0;
      width: 0.4em;
      transition: all 0.5s;
      opacity: 1;
    }
    
    &:hover::after {
      opacity: 0;
      transition: all 0.5s;
    }
  }
  
  /* Horizontal scrollbar with animation */
  .mac-scrollbar-x {
    position: relative;
    overflow-x: auto;
    /* Firefox */
    scrollbar-color: var(--tw-mac-scrollbar-color, rgba(0, 0, 0, 0.1)) transparent;
    scrollbar-width: thin;
    
    &::-webkit-scrollbar {
      width: var(--tw-mac-scrollbar-size-w, 6.4px);
      height: var(--tw-mac-scrollbar-size-h, 6.4px);
    }
    
    &::-webkit-scrollbar,
    &::-webkit-scrollbar-thumb {
      overflow: visible;
      border-radius: 4px;
    }
    
    &::-webkit-scrollbar-thumb {
      background-color: var(--tw-mac-scrollbar-color, rgba(0, 0, 0, 0.1));
    }
    
    &::after {
      content: '';
      position: absolute;
      background-color: #fff;
      width: 100%;
      bottom: 0;
      left: 0;
      height: 6.4px;
      transition: all 0.5s;
      opacity: 1;
    }
    
    &:hover::after {
      opacity: 0;
      transition: all 0.5s;
    }
  }
  
  /* Hide scrollbar completely */
  .scrollbar-hidden {
    /* For IE, Edge and Firefox */
    -ms-overflow-style: none;
    scrollbar-width: none;
    
    /* For Webkit-based browsers (Chrome, Safari and Opera) */
    &::-webkit-scrollbar {
      display: none;
    }
  }
}

@layer utilities {
  /* Tailwind v4 arbitrary values: set custom properties via brackets
     [--tw-mac-scrollbar-color:<color>]
     [--tw-mac-scrollbar-size-w:<length>]
     [--tw-mac-scrollbar-size-h:<length>]
  */
}
